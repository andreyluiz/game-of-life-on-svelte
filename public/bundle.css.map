{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../src/App.svelte",
    "../src/Rules.svelte",
    "../src/World.svelte",
    "../src/Controls.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import Rules from \"./Rules.svelte\";\n  import Controls from \"./Controls.svelte\";\n  import World from \"./World.svelte\";\n  import { buildNewWorld, initialWorld, nextWorld } from \"./lib/world\";\n  import { generateId, sleep } from \"./lib/util\";\n\n  const defaultRules = [\n    {\n      id: generateId(),\n      is: 1,\n      has: [2, 3],\n      becomes: 1\n    },\n    {\n      id: generateId(),\n      is: 0,\n      has: [3],\n      becomes: 1\n    }\n  ];\n\n  let rules = defaultRules;\n  let started = false;\n  let step = 0;\n  let rows = initialWorld.rows;\n  let cols = initialWorld.cols;\n  let speed = 500;\n  let world = buildNewWorld(initialWorld.rows, initialWorld.cols);\n\n  function handleAddRule(event) {\n    const { is, has, becomes } = event.detail;\n    rules = [\n      ...rules,\n      {\n        id: generateId(),\n        is: parseInt(is, 10),\n        has: has.filter(n => n).map(n => parseInt(n, 10)),\n        becomes: parseInt(becomes, 10)\n      }\n    ];\n  }\n\n  function handleRemoveRule(event) {\n    rules = rules.filter(r => r.id !== event.detail.id);\n  }\n\n  function handleStart() {\n    started = true;\n    nextStep();\n  }\n\n  function handleStop() {\n    started = false;\n  }\n\n  function handleClear() {\n    world = buildNewWorld(rows, cols);\n  }\n\n  function handleUpdateWorld(event) {\n    const { rows: newRows, cols: newCols, speed: newSpeed } = event.detail;\n    rows = newRows;\n    cols = newCols;\n    world = buildNewWorld(newRows, newCols);\n  }\n\n  function handleUpdateSpeed(event) {\n    const { speed: newSpeed } = event.detail;\n    speed = newSpeed;\n  }\n\n  async function nextStep() {\n    if (started) {\n      requestAnimationFrame(() => {\n        step += 1;\n        world = nextWorld(world, rules);\n      });\n      await sleep(1000 - speed);\n      nextStep();\n    }\n  }\n\n  function handleCellClick(event) {\n    const { rowIndex, columnIndex } = event.detail;\n    const newWorld = world.slice(0);\n    const currentValue = newWorld[rowIndex][columnIndex];\n    const newValue = 1 - currentValue;\n    newWorld[rowIndex].splice(columnIndex, 1, newValue);\n    world = newWorld;\n  }\n\n  function handleForceWorld(event) {\n    world = event.detail.world;\n  }\n</script>\n\n<style>\n  :global(*) {\n    box-sizing: border-box;\n  }\n\n  :global(body) {\n    margin: 0;\n    font-family: sans-serif;\n  }\n\n  .simulator {\n    display: flex;\n    margin: 12px;\n  }\n\n  .col {\n    display: flex;\n    flex-direction: column;\n    flex: 1 1 auto;\n  }\n\n  .col.controls {\n    flex: 0 0 200px;\n    margin-right: 12px;\n  }\n\n  .row {\n    flex: 1 1 auto;\n  }\n\n  .row.rules {\n    margin-bottom: 12px;\n  }\n</style>\n\n<div class=\"simulator\">\n  <div class=\"col controls\">\n    <Controls\n      {started}\n      {step}\n      {rows}\n      {cols}\n      {speed}\n      on:start={handleStart}\n      on:stop={handleStop}\n      on:clear={handleClear}\n      on:updateworld={handleUpdateWorld}\n      on:updatespeed={handleUpdateSpeed}\n      on:forceworld={handleForceWorld} />\n  </div>\n  <div class=\"col\">\n    <div class=\"row rules\">\n      <Rules\n        {rules}\n        on:addrule={handleAddRule}\n        on:removerule={handleRemoveRule} />\n    </div>\n    <div class=\"row world\">\n      <World {world} on:cellclick={handleCellClick} />\n    </div>\n  </div>\n</div>\n",
    "<script>\n  import Rule from \"./Rule.svelte\";\n  import RuleForm from \"./RuleForm.svelte\";\n  import { createEventDispatcher } from \"svelte\";\n\n  let dispatch = createEventDispatcher();\n\n  export let rules;\n</script>\n\n<style>\n  th {\n    text-align: left;\n  }\n</style>\n\n<table>\n  <thead>\n    <tr>\n      <th>Is</th>\n      <th>Has</th>\n      <th>Becomes</th>\n    </tr>\n  </thead>\n  <tbody>\n    {#each rules as rule}\n      <Rule {...rule} on:removerule />\n    {/each}\n    <RuleForm on:addrule />\n  </tbody>\n</table>\n",
    "<script>\n  import { createEventDispatcher } from \"svelte\";\n\n  let dispatch = createEventDispatcher();\n\n  export let world;\n\n  function handleCellClick(rowIndex, columnIndex) {\n    return function() {\n      dispatch(\"cellclick\", {\n        rowIndex,\n        columnIndex\n      });\n    };\n  }\n</script>\n\n<style>\n  .row {\n    display: flex;\n    max-height: 20px;\n  }\n\n  .cell {\n    flex: 0 0 20px;\n    position: relative;\n    display: inline-block;\n    height: 20px;\n    width: 20px;\n    margin: 0;\n    padding: 0;\n    outline: none;\n    border: 1px solid black;\n  }\n\n  .inner-cell {\n    position: absolute;\n    top: 1px;\n    left: 1px;\n    width: 16px;\n    height: 16px;\n    background-color: white;\n  }\n\n  .inner-cell.active {\n    background-color: black;\n  }\n</style>\n\n<div>\n  {#each world as row, rowIndex}\n    <div class=\"row\">\n      {#each row as column, columnIndex}\n        <div class=\"cell\" on:click={handleCellClick(rowIndex, columnIndex)}>\n          <div class=\"inner-cell {column === 1 && 'active'}\" />\n        </div>\n      {/each}\n    </div>\n  {/each}\n</div>\n",
    "<script>\n  import { template } from \"./lib/world\";\n  import { createEventDispatcher } from \"svelte\";\n\n  let dispatch = createEventDispatcher();\n\n  export let step,\n    rows = 20,\n    cols = 20,\n    speed = 500,\n    started = false;\n\n  function handleStartStop() {\n    if (started) {\n      dispatch(\"stop\");\n    } else {\n      dispatch(\"start\");\n    }\n  }\n\n  function handleStop() {}\n\n  function handleClear() {\n    dispatch(\"clear\");\n  }\n\n  function handleRowsChange(e) {\n    dispatch(\"updateworld\", {\n      speed,\n      rows: parseInt(e.target.value, 10),\n      cols\n    });\n  }\n\n  function handleColsChange(e) {\n    dispatch(\"updateworld\", {\n      speed,\n      rows,\n      cols: parseInt(e.target.value, 10)\n    });\n  }\n\n  function handleSpeedChange(e) {\n    dispatch(\"updatespeed\", {\n      speed: parseInt(e.target.value, 10)\n    });\n  }\n\n  function handleTemplateClick() {\n    dispatch(\"forceworld\", { world: template });\n  }\n</script>\n\n<style>\n  .container {\n    border: 1px solid grey;\n    padding: 12px;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .row {\n    margin-bottom: 12px;\n    flex: 1;\n  }\n\n  .step {\n    background: lightgray;\n    border-radius: 4px;\n    padding: 4px;\n    margin-bottom: 12px;\n    text-align: center;\n  }\n\n  .step-text {\n    color: gray;\n  }\n\n  .button {\n    background-color: steelblue;\n    font-weight: normal;\n    outline: none;\n    width: 100%;\n    color: white;\n    border: steelblue;\n    border-radius: 4px;\n    cursor: pointer;\n  }\n\n  .title {\n    font-size: 14px;\n    margin-bottom: 4px;\n  }\n\n  input[type=\"number\"] {\n    font-size: 14px;\n    padding: 4px;\n    width: 100%;\n  }\n\n  input[type=\"range\"] {\n    width: 100%;\n    -webkit-appearance: none;\n    outline: none;\n    margin: 18px 0;\n    width: 100%;\n  }\n\n  input[type=\"range\"]:focus {\n    outline: none;\n  }\n  input[type=\"range\"]::-webkit-slider-runnable-track {\n    width: 100%;\n    height: 8.4px;\n    cursor: pointer;\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n    background: steelblue;\n    border-radius: 1.3px;\n    border: 0.2px solid #010101;\n  }\n  input[type=\"range\"]::-webkit-slider-thumb {\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n    border: 1px solid #000000;\n    height: 36px;\n    width: 16px;\n    border-radius: 3px;\n    background: #ffffff;\n    cursor: pointer;\n    -webkit-appearance: none;\n    margin-top: -14px;\n  }\n  input[type=\"range\"]:focus::-webkit-slider-runnable-track {\n    background: #367ebd;\n  }\n  input[type=\"range\"]::-moz-range-track {\n    width: 100%;\n    height: 8.4px;\n    cursor: pointer;\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n    background: steelblue;\n    border-radius: 1.3px;\n    border: 0.2px solid #010101;\n  }\n  input[type=\"range\"]::-moz-range-thumb {\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n    border: 1px solid #000000;\n    height: 36px;\n    width: 16px;\n    border-radius: 3px;\n    background: #ffffff;\n    cursor: pointer;\n  }\n  input[type=\"range\"]::-ms-track {\n    width: 100%;\n    height: 8.4px;\n    cursor: pointer;\n    background: transparent;\n    border-color: transparent;\n    border-width: 16px 0;\n    color: transparent;\n  }\n  input[type=\"range\"]::-ms-fill-lower {\n    background: #2a6495;\n    border: 0.2px solid #010101;\n    border-radius: 2.6px;\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n  }\n  input[type=\"range\"]::-ms-fill-upper {\n    background: steelblue;\n    border: 0.2px solid #010101;\n    border-radius: 2.6px;\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n  }\n  input[type=\"range\"]::-ms-thumb {\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n    border: 1px solid #000000;\n    height: 36px;\n    width: 16px;\n    border-radius: 3px;\n    background: #ffffff;\n    cursor: pointer;\n  }\n  input[type=\"range\"]:focus::-ms-fill-lower {\n    background: steelblue;\n  }\n  input[type=\"range\"]:focus::-ms-fill-upper {\n    background: #367ebd;\n  }\n</style>\n\n<div class=\"container\">\n  <div class=\"row\">\n    <button class=\"button\" on:click={handleStartStop}>\n      {started ? 'Stop' : 'Start'}\n    </button>\n  </div>\n  <div class=\"row\">\n    <button class=\"button\" on:click={handleClear}>Reset</button>\n  </div>\n  <div class=\"step\">\n    <span class=\"step-text\">Step {step}</span>\n  </div>\n  <div class=\"row\">\n    <span class=\"title\">Rows</span>\n    <input\n      name=\"rows\"\n      type=\"number\"\n      value={rows}\n      on:change={handleRowsChange} />\n  </div>\n  <div class=\"row\">\n    <span class=\"title\">Columns</span>\n    <input\n      name=\"cols\"\n      type=\"number\"\n      value={cols}\n      on:change={handleColsChange} />\n  </div>\n  <div class=\"row\">\n    <span class=\"title\">Speed ({speed})</span>\n    <input\n      name=\"speed\"\n      type=\"range\"\n      value={speed}\n      on:change={handleSpeedChange}\n      min=\"1\"\n      max=\"1001\" />\n  </div>\n  <div class=\"row\">\n    <button on:click={handleTemplateClick}>Template</button>\n  </div>\n</div>\n"
  ],
  "names": [],
  "mappings": "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"
}